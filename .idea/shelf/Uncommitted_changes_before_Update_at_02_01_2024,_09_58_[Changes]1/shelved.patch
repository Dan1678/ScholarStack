Index: src/main/java/MainUI/RightPanel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>//Panel on the right side, displaying papers and comments\n\npackage MainUI;\n\nimport GroupContent.Paper;\nimport Managers.CreateLoginForm;\nimport Managers.DatabaseManager;\nimport Managers.PasswordHashing;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RightPanel extends JPanel implements ButtonClickListener{\n\n    //private CommentsDisplay commentsDisplay;\n    private PapersDisplay papersDisplay;\n\n    private CommentsDisplay commentsDisplay;\n\n    public RightPanel(String UserName) {\n\n\n        setLayout(new BorderLayout());\n\n        commentsDisplay = new CommentsDisplay();\n        papersDisplay = new PapersDisplay();\n\n        add(commentsDisplay, BorderLayout.CENTER);\n        add(papersDisplay, BorderLayout.NORTH);\n\n        //new panel for adding papers button\n        JPanel buttonsPanel = new JPanel();\n        // buttonsPanel.setLayout(new BoxLayout(buttonsPanel, BoxLayout.Y_AXIS));\n        buttonsPanel.setLayout(new FlowLayout(FlowLayout.LEFT));\n        JPanel topPanel = new JPanel(); // Panel for holding the \"Add Reference\" button\n        topPanel.setLayout(new BorderLayout());\n\n        topPanel.add(buttonsPanel, BorderLayout.CENTER);\n\n        // add some temp papers\n        Paper paper = new Paper();\n        paper.setName(\"Smith, J., Johnson, A. (2010). *The Art of Collaboration*. London: ABC Publishing.\");\n\n        papersDisplay.addPaperUI(new PaperUI(paper), this);\n\n        paper = new Paper();\n        paper.setName(\"Smith, J. (2022). \\\"The Art of Referencing.\\\" Reference Guides Online. Available at: https://www.example.com/reference-guide [Accessed 30 December 2023].\\n\");\n        papersDisplay.addPaperUI(new PaperUI(paper), this);\n        paper = new Paper();\n        paper.setName(\"Smith, J., Johnson, A. (2010). \\\"The Art of Writing Articles.\\\" Journal of Academic Writing. 5(2): 123-135.\\n\");\n        papersDisplay.addPaperUI(new PaperUI(paper), this);\n\n\n        JButton addReferenceButton = new JButton(\"Add Reference\");\n        Paper finalPaper = paper;\n        addReferenceButton.addActionListener(new ActionListener() {\n            ButtonClickListener listener = null;\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String reference = JOptionPane.showInputDialog(\"Enter the Harvard reference:\");\n                if (reference != null && !reference.isEmpty() && isValidHarvardReference(reference)) {\n                    addNewPaper(reference);\n                    String tableName = \"papers3\";\n                    String columns = \"username, \\\"paper title\\\"\";\n\n                    String values = String.format(\"'%s', '%s'\", UserName, reference);\n\n                    boolean addPaper = DatabaseManager.insertRecord(tableName, columns, values);\n\n                    papersDisplay.addReference(reference, listener);\n                    commentsDisplay.displayComments(finalPaper);\n                }else if (reference != null && !reference.isEmpty()) {\n                    System.out.println(\"Reference addition canceled.\");\n\n                } else {\n                    JOptionPane.showMessageDialog(null, \"Please enter a valid Harvard reference: \\n -for a book. Example: Author Last Name, Author Initial(s). (Year).*Book Title*. Place of Publication: Publisher.\\n -for an article. Example: Author Last Name, Author Initial(s). (Year). \\\"Article Title.\\\" Journal Name. Volume(Issue): Page Numbers.\\n -for a website.Example: Author Last Name, Author Initial(s) or Organization. (Year). \\\\\\\"Webpage Title.\\\\\\\" Website Name. Available at: URL [Accessed Day Month Year].\");\n                }\n            }\n        });\n\n        JButton getBibliographyButton = new JButton(\"Get Bibliography\");\n        getBibliographyButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // Retrieve the selected papers from PapersDisplay\n                ArrayList<Paper> selectedPapers = papersDisplay.getCheckedPapers();\n\n                // Generate the bibliography using the selected papers\n                if (!selectedPapers.isEmpty()) {\n\n                    StringBuilder bibliography = new StringBuilder(\"Selected References:\\n\");\n//                    for (Paper paper : selectedPapers) {\n//                        bibliography.append(\"- \").append(paper.getName()).append(\"\\n\");\n//                    }\n                     int counter = 1;\n\n                    for (Paper paper : selectedPapers) {\n                        bibliography.append(counter).append(\". \").append(paper.getName()).append(\"\\n\");\n                        counter++;\n                    }\n\n                    // Display the bibliography\n                    JOptionPane.showMessageDialog(null, bibliography.toString(), \"Bibliography\", JOptionPane.INFORMATION_MESSAGE);\n                } else {\n                    // If no papers were selected\n                    JOptionPane.showMessageDialog(null, \"No papers selected!\", \"Bibliography\", JOptionPane.WARNING_MESSAGE);\n                }\n            }\n        });\n        buttonsPanel.add(getBibliographyButton);\n        buttonsPanel.add(addReferenceButton);\n        topPanel.add(papersDisplay, BorderLayout.SOUTH);\n\n        add(topPanel, BorderLayout.NORTH);\n\n    }\n\n    private boolean isValidHarvardReference(String reference) {\n        Pattern harvardPattern = Pattern.compile(\"^([A-Za-z]+( [A-Za-z]+)*), ([A-Za-z]+( [A-Za-z]+)*)\\\\. \\\\d{4}\\\\. [A-Za-z0-9\\\\s]+\\\\.$\");\n        Pattern harvardBookPattern = Pattern.compile(\"^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\\\.\\\\s*(?:\\\\([\\\\d]{4}\\\\)\\\\.)?\\\\s*)?([^\\\"]+)(?:\\\\.\\\\s*(?:\\\\d+)(?:st|nd|rd|th)?\\\\s*ed\\\\.)?\\\\.\\\\s*([^:\\\\.,]+)(?:\\\\s*:\\\\s*([^\\\\.,]+))?(?:[\\\\.:](.*))?$\");\n        Pattern harvardArticlePattern = Pattern.compile(\"^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\\\.\\\\s*(?:\\\\([\\\\d]{4}\\\\)\\\\.)?\\\\s*)?\\\"([^\\\"]+)\\\"\\\\.\\\\s*([^\\\\.,]+)\\\\.\\\\s*(?:([\\\\d]+)\\\\s*\\\\(([\\\\d]+)\\\\)\\\\s*)?:\\\\s*([^\\\\.,]+)(?:[\\\\.:](.*))?$\");\n        Pattern harvardWebsitePattern = Pattern.compile(\"^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\\\.\\\\s*(?:\\\\([\\\\d]{4}\\\\)\\\\.)?\\\\s*)?(?:\\\"([^\\\"]+)\\\"\\\\.\\\\s*)?([^\\\\.,]+)\\\\.\\\\s*Available at: (https?://\\\\S+) \\\\[Accessed (\\\\d{1,2}\\\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\\\s\\\\d{4})\\\\]\");\n\n        Matcher harvardMatcher = harvardPattern.matcher(reference);\n        Matcher bookMatcher = harvardBookPattern.matcher(reference);\n        Matcher articleMatcher = harvardArticlePattern.matcher(reference);\n        Matcher websiteMatcher=harvardWebsitePattern.matcher(reference);\n\n        // Check if the reference matches any of the patterns\n        return harvardMatcher.matches() || bookMatcher.matches() || articleMatcher.matches() || websiteMatcher.matches();\n\n\n    }\n\n    @Override\n         public void onButtonClicked(Paper paper) {\n\n\n        commentsDisplay.displayComments(paper);\n    }\n\n    public void addNewPaper(String name) {\n        //add a new paper to the database\n        System.out.println(name);\n        ArrayList<String> papersList = getPapersFromDB();\n        redrawPapers(papersList);\n    }\n\n    public void redrawPapers(ArrayList<String> papersList) {\n\n        for (String paperName : papersList) {\n            Paper paper = new Paper();\n            paper.setName(paperName);\n\n            papersDisplay.addPaperUI(new PaperUI(paper), this);\n        }\n    }\n\n    public ArrayList<String> getPapersFromDB() {\n        //get papers from the database and display them on the UI\n        //maybe wont be a string\n        ArrayList<String> papersList = new ArrayList<>();\n\n\n        //code\n\n        return  papersList;\n    }\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/MainUI/RightPanel.java b/src/main/java/MainUI/RightPanel.java
--- a/src/main/java/MainUI/RightPanel.java	
+++ b/src/main/java/MainUI/RightPanel.java	
@@ -3,9 +3,7 @@
 package MainUI;
 
 import GroupContent.Paper;
-import Managers.CreateLoginForm;
 import Managers.DatabaseManager;
-import Managers.PasswordHashing;
 
 import javax.swing.*;
 import java.awt.*;
@@ -74,8 +72,8 @@
 
                     papersDisplay.addReference(reference, listener);
                     commentsDisplay.displayComments(finalPaper);
-                }else if (reference != null && !reference.isEmpty()) {
-                    System.out.println("Reference addition canceled.");
+//                }else if (reference != null && !reference.isEmpty()) {
+//                    System.out.println("Reference addition canceled.");
 
                 } else {
                     JOptionPane.showMessageDialog(null, "Please enter a valid Harvard reference: \n -for a book. Example: Author Last Name, Author Initial(s). (Year).*Book Title*. Place of Publication: Publisher.\n -for an article. Example: Author Last Name, Author Initial(s). (Year). \"Article Title.\" Journal Name. Volume(Issue): Page Numbers.\n -for a website.Example: Author Last Name, Author Initial(s) or Organization. (Year). \\\"Webpage Title.\\\" Website Name. Available at: URL [Accessed Day Month Year].");
@@ -94,9 +92,7 @@
                 if (!selectedPapers.isEmpty()) {
 
                     StringBuilder bibliography = new StringBuilder("Selected References:\n");
-//                    for (Paper paper : selectedPapers) {
-//                        bibliography.append("- ").append(paper.getName()).append("\n");
-//                    }
+
                      int counter = 1;
 
                     for (Paper paper : selectedPapers) {
@@ -121,18 +117,18 @@
     }
 
     private boolean isValidHarvardReference(String reference) {
-        Pattern harvardPattern = Pattern.compile("^([A-Za-z]+( [A-Za-z]+)*), ([A-Za-z]+( [A-Za-z]+)*)\\. \\d{4}\\. [A-Za-z0-9\\s]+\\.$");
-        Pattern harvardBookPattern = Pattern.compile("^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\.\\s*(?:\\([\\d]{4}\\)\\.)?\\s*)?([^\"]+)(?:\\.\\s*(?:\\d+)(?:st|nd|rd|th)?\\s*ed\\.)?\\.\\s*([^:\\.,]+)(?:\\s*:\\s*([^\\.,]+))?(?:[\\.:](.*))?$");
-        Pattern harvardArticlePattern = Pattern.compile("^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\.\\s*(?:\\([\\d]{4}\\)\\.)?\\s*)?\"([^\"]+)\"\\.\\s*([^\\.,]+)\\.\\s*(?:([\\d]+)\\s*\\(([\\d]+)\\)\\s*)?:\\s*([^\\.,]+)(?:[\\.:](.*))?$");
-        Pattern harvardWebsitePattern = Pattern.compile("^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\.\\s*(?:\\([\\d]{4}\\)\\.)?\\s*)?(?:\"([^\"]+)\"\\.\\s*)?([^\\.,]+)\\.\\s*Available at: (https?://\\S+) \\[Accessed (\\d{1,2}\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s\\d{4})\\]");
+       // Pattern harvardPattern = Pattern.compile("^([A-Za-z]+( [A-Za-z]+)*), ([A-Za-z]+( [A-Za-z]+)*)\\. \\d{4}\\. [A-Za-z0-9\\s]+\\.$");
+        Pattern harvardBookPattern = Pattern.compile("^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\.\\s*(?:\\(\\d{4}\\)\\.)?\\s*)?([^\"]+)(?:\\.\\s*\\d+(?:st|nd|rd|th)?\\s*ed\\.)?\\.\\s*([^:.,]+)(?:\\s*:\\s*([^.,]+))?(?:[.:](.*))?$");
+        Pattern harvardArticlePattern = Pattern.compile("^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\.\\s*(?:\\(\\d{4}\\)\\.)?\\s*)?\"([^\"]+)\"\\.\\s*([^.,]+)\\.\\s*(?:(\\d+)\\s*\\((\\d+)\\)\\s*)?:\\s*([^.,]+)(?:[.:](.*))?$");
+        Pattern harvardWebsitePattern = Pattern.compile("^(?:[A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*(?:,? (?:&|and) [A-Z][a-zA-Z]+(?:, [A-Z][a-zA-Z]+)*)*\\.\\s*(?:\\(\\d{4}\\)\\.)?\\s*)?(?:\"([^\"]+)\"\\.\\s*)?([^.,]+)\\.\\s*Available at: (https?://\\S+) \\[Accessed (\\d{1,2}\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s\\d{4})]");
 
-        Matcher harvardMatcher = harvardPattern.matcher(reference);
+        //Matcher harvardMatcher = harvardPattern.matcher(reference);
         Matcher bookMatcher = harvardBookPattern.matcher(reference);
         Matcher articleMatcher = harvardArticlePattern.matcher(reference);
         Matcher websiteMatcher=harvardWebsitePattern.matcher(reference);
 
         // Check if the reference matches any of the patterns
-        return harvardMatcher.matches() || bookMatcher.matches() || articleMatcher.matches() || websiteMatcher.matches();
+        return bookMatcher.matches() || articleMatcher.matches() || websiteMatcher.matches();
 
 
     }
